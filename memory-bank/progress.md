# progress.md

## 已完成/運作中

- 核心戰鬥循環（召喚、攻擊、技能使用、回合制邏輯）。
- 敵人 AI 基本行為模式。
- 基本單位屬性與統計。
- 戰鬥 UI 框架（顯示單位資訊、技能按鈕）。
- 經驗值與金幣獎勵計算。
- 物品掉落機制基礎（從敵人模板讀取掉落表）。
- CSV 數據導入（敵人、物品、技能）。
- 事件管理器系統。
- 基本粒子效果。
- Tilemap 地形交互基礎。
- 飛行道具創建流程（怪物掉落 + 採集）。
- 飛行道具的 `SCATTERING` 和 `WAIT_ON_GROUND` 狀態基礎物理模擬（使用 Tilemap 檢測地面）。
- **已解決**：飛行道具創建和 Step 事件中的 `string_format` 除錯函數錯誤。

## 待辦/已知問題

- **核心問題**：`obj_flying_item` 無法正確飛向玩家，且在非 `SCATTERING` 狀態下 `vspeed` 異常增加，懷疑受父物件 Step 事件影響。 （**當前調查中**）
- **視覺效果**：怪物掉落噴射效果可能需要調整初速度以獲得更明顯的「爆開」感。
- **功能待完善**：
    - 玩家等級與屬性成長系統。
    - 更豐富的技能類型與效果（狀態異常、Buff/Debuff、範圍效果）。
    - 捕獲怪物機制實現。
    - 物品系統完善（使用、裝備？）。
    - 完整的遊戲流程（地圖移動、觸發戰鬥等）。
    - UI/UX 細節打磨（動畫、反饋）。
- **潛在風險**：
    - 隨著系統複雜度增加，狀態管理和事件交互可能變得困難。
    - 性能優化（尤其是在大量單位或粒子效果時）。

## 未來規劃

- 加入更多敵人種類與技能。
- 設計不同的遊戲區域和關卡。
- 開發劇情或任務系統。
- 建立存檔/讀檔系統。
- 優化使用者介面與體驗。

## 已知問題
- 採集系統掉落尚未工廠化，維護需多處同步
- 飛行道具與 GUI 座標轉換耦合仍有殘留
- 掉落工廠尚未設計，日後需統一管理 